# Приложение для Симуляции Работы Автомобильной Фабрики

:)

Это приложение симулирует работу автомобильной фабрики, где автомобили собираются из трех компонентов: кузова, двигателя и аксессуаров. Программа управляет поставщиками, рабочими, дилерами и складами, все операции выполняются в отдельных потоках. Симуляция управляется через конфигурационный файл (`start.properties`) и предоставляет графический интерфейс на JavaFX для визуализации процессов.

---

## Особенности

- **Динамическая конфигурация**: Настройте параметры фабрики через `start.properties`.
- **Многопоточность**:
    - Поставщики доставляют детали (кузов, двигатель, аксессуары) с настраиваемыми интервалами.
    - Рабочие собирают автомобили из деталей, хранящихся на складах.
    - Дилеры покупают автомобили со склада готовой продукции.
- **Реальное время визуализации**:
    - Мониторинг состояния складов (кузовов, двигателей, аксессуаров и автомобилей).
    - Отслеживание количества произведенных автомобилей и деталей.
    - Регулировка скорости работы поставщиков, рабочих и дилеров с помощью ползунков.
- **Логирование**:
    - Логирование покупок дилеров в файл (`shops.txt`) с подробной информацией о каждой транзакции.
- **Умное управление складом**:
    - Автоматический запрос на производство новых автомобилей, если запас на складе падает ниже 80%.

---

## Конфигурация

Файл `start.properties` позволяет настроить следующие параметры:

| Параметр               | Описание                                      | Пример       |
|------------------------|-----------------------------------------------|--------------|
| `StorageBodySize`      | Максимальное количество кузовов на складе     | `100`        |
| `StorageMotorSize`     | Максимальное количество двигателей на складе  | `100`        |
| `StorageAccessorySize` | Максимальное количество аксессуаров на складе | `100`        |
| `StorageAutoSize`      | Максимальное количество автомобилей на складе | `100`        |
| `AccessorySuppliers`   | Количество поставщиков аксессуаров            | `5`          |
| `BodySuppliers`        | Количество поставщиков кузовов                | `5`          |
| `EngineSuppliers`      | Количество поставщиков двигателей             | `5`          |
| `Workers`              | Количество рабочих                            | `10`         |
| `Dealers`              | Количество дилеров                            | `20`         |
| `SupplierMinDelay `      | Минимальная задержка поставщиков              | 30 |
 |`SupplierMaxDelay`| Максимальная задержка поставщиков             |8000        |
`DealerMinDelay`| Минимальная задержка Дилеров                  |50|
`DealerMaxDelay`| Максимальная задержка Дилеров                 |7500|
| `LogSale`              | Включить/выключить логирование покупок        | `true`       |

---

## Как это работает

1. **Поставщики**:
    - Каждый тип поставщика (кузовов, двигателей, аксессуаров) работает в отдельном потоке.
    - Если склад заполнен, поставщик ждет освобождения места (используя `wait()` и `notify()`).

2. **Склады**:
    - Хранят объекты деталей и автомобилей.
    - Имеют ограниченную вместимость, заданную в `start.properties`.

3. **Рабочие**:
    - Работают в пуле потоков (`ThreadPool`).
    - Берут детали со складов и собирают автомобили.
    - Если необходимые детали отсутствуют, рабочий ждет их поставки.

4. **Дилеры**:
    - Запрашивают автомобили со склада готовой продукции.
    - Если склад пуст, дилеры ждут появления автомобилей.

5. **Контроллер склада**:
    - Следит за уровнем запасов автомобилей.
    - При достижении порога (меньше 80%) отправляет запрос на производство новых автомобилей.

---

## Обзор интерфейса

Интерфейс разработан с использованием JavaFX и включает следующие элементы:

- **Схема фабрики**:
    - Визуализация взаимодействия между поставщиками, складами, рабочими и дилерами.
    - Соединительные линии показывают направление движения деталей и автомобилей.

- **Ползунки**:
    - Регулировка скорости(задержка) работы поставщиков, рабочих и дилеров.

- **Индикаторы**:
    - Текущее количество деталей на складах.
    - Количество произведенных автомобилей.
    - Количество ожидающих задач в пуле рабочих.

---

## Технические детали

- **Многопоточность**:
    - Все потоки используют мониторы синхронизации (`wait()`, `notify()`, `notifyAll()`).
    - Уникальные идентификаторы присваиваются каждому объекту (детали и автомобили).

- **Логирование**:
    - Информация о покупках записывается в файл `sales.txt` в формате:
      ```
      <Время>: Дилер <Номер>: Автомобиль <ID> (Кузов: <ID>, Двигатель: <ID>, Аксессуар: <ID>
      ```

- **JavaFX**:
    - Графический интерфейс реализован с использованием библиотеки JavaFX.
    - Элементы интерфейса организованы в виде схемы с поддержкой динамического обновления данных.

---
